\documentclass[11pt]{article}

\usepackage[a4paper]{geometry}
\geometry{left=2.0cm,right=2.0cm,top=2.5cm,bottom=2.5cm}

\usepackage{ctex} % 支持中文的LaTeX宏包
\usepackage{amsmath,amsfonts,graphicx,subfigure,amssymb,bm,amsthm,mathrsfs,mathtools,breqn} % 数学公式和符号的宏包集合
\usepackage{algorithm,algorithmicx} % 算法和伪代码
\usepackage[noend]{algpseudocode} % 算法和伪代码
\usepackage{fancyhdr} % 自定义页眉页脚
\usepackage[framemethod=TikZ]{mdframed} % 创建带边框的框架
\usepackage{fontspec} % 字体设置
\usepackage{adjustbox} % 调整盒子大小
\usepackage{fontsize} % 设置字体大小
\usepackage{tikz,xcolor} % 绘制图形和使用颜色
\usepackage{multicol} % 多栏排版
\usepackage{multirow} % 表格中合并单元格
\usepackage{pdfpages} % 插入PDF文件
\usepackage{listings} % 在文档中插入源代码
\usepackage{wrapfig} % 文字绕排图片
\usepackage{bigstrut,multirow,rotating} % 支持在表格中使用特殊命令
\usepackage{booktabs} % 创建美观的表格
\usepackage{circuitikz} % 绘制电路图
\usepackage{zhnumber} % 中文序号（用于标题）
\usepackage{tabularx} % 表格折行
\usepackage{float} % 限制图片浮动
\usetikzlibrary{positioning,arrows.meta}

\definecolor{dkgreen}{rgb}{0,0.6,0}
\definecolor{gray}{rgb}{0.5,0.5,0.5}
\definecolor{mauve}{rgb}{0.58,0,0.82}
\lstset{
  frame=tb,
  aboveskip=3mm,
  belowskip=3mm,
  showstringspaces=false,
  columns=flexible,
  framerule=1pt,
  rulecolor=\color{gray!35},
  backgroundcolor=\color{gray!5},
  basicstyle={\small\ttfamily},
  numbers=none,
  numberstyle=\tiny\color{gray},
  keywordstyle=\color{blue},
  commentstyle=\color{dkgreen},
  stringstyle=\color{mauve},
  breaklines=true,
  breakatwhitespace=true,
  tabsize=3,
}

% 轻松引用, 可以用\cref{}指令直接引用, 自动加前缀. 
% 例: 图片label为fig:1
% \cref{fig:1} => Figure.1
% \ref{fig:1}  => 1
\usepackage[capitalize]{cleveref}
% \crefname{section}{Sec.}{Secs.}
\Crefname{section}{Section}{Sections}
\Crefname{table}{Table}{Tables}
\crefname{table}{Table.}{Tabs.}

% \setmainfont{Palatino Linotype.ttf}
% \setCJKmainfont{SimHei.ttf}
% \setCJKsansfont{Songti.ttf}
% \setCJKmonofont{SimSun.ttf}
\punctstyle{kaiming}
% 偏好的几个字体, 可以根据需要自行加入字体ttf文件并调用

\renewcommand{\emph}[1]{\begin{kaishu}#1\end{kaishu}}

% 对 section 等环境的序号使用中文
\renewcommand \thesection{\zhnum{section}、}
\renewcommand \thesubsection{\arabic{subsection}}


%%%%%%%%%%%%%%%%%%%%%%%%%%%
%改这里可以修改实验报告表头的信息
\newcommand{\name}{许震宇}
\newcommand{\mydate}{2026.2.13}
% \newcommand{\major}{计算机科学与技术}

%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{document}

\input{tex_file/head.tex}

\section{Week 1：API 选取逻辑}

本周目标：完成三类日频数据的稳定采集，并输出可复现的数据集。
\begin{itemize}
  \item JPM 股价（日频）
  \item 美债利率（尽量全：常用 DGS* 常数期限收益率）
  \item VIX（2018--2024）
\end{itemize}

\subsection{Yahoo Finance（yfinance）}
\begin{itemize}
  \item 选择：用于 \textbf{JPM} 日频 OHLCV（\texttt{Open/High/Low/Close/Adj Close/Volume}）。
  \item 理由：无需 API key，字段齐全，快速验证。
  \item 代价：非官方接口，可能限流（尤其指数类 ticker）。
\end{itemize}

\subsection{FRED}
\begin{itemize}
  \item 选择：用于 \textbf{VIX}（\texttt{VIXCLS}）与 \textbf{美债利率}（\texttt{DGS1MO ... DGS30}）。
  \item 理由：宏观与利率数据更稳定；期限覆盖更全；更适合作为主数据源。
  \item 配置：建议在项目根目录 \texttt{.env} 中设置 \texttt{FRED\_API\_KEY}。
\end{itemize}

\subsection{Alpha Vantage}
\begin{itemize}
  \item 选择：作为 \textbf{JPM} 的备选接口（当 Yahoo 限流时）。
  \item 结论：本次测试 key 返回 ``premium endpoint'' 提示，当前实现的端点不可用，因此不作为主链路。
\end{itemize}

\section{输出（数据集落盘）}

\subsection{一键生成命令}
\begin{verbatim}
python src/quant_research/data/sources/fetch_wk01.py --start 2018-01-01 --end 2024-12-31 --vix-source fred
\end{verbatim}

\subsection{输出文件}
\begin{table}[H]
  \centering
  \renewcommand{\arraystretch}{1.15}
  \begin{tabularx}{\textwidth}{lXl}
    \toprule
    文件 & 内容 & 数据源 \\
    \midrule
    \texttt{output/week1/raw/jpm\_daily.csv} & JPM 日频 OHLCV（raw） & Yahoo Finance \\
    \texttt{output/week1/raw/vix\_daily.csv} & VIX（\texttt{VIXCLS}，raw） & FRED \\
    \texttt{output/week1/raw/treasury\_yields.csv} & 美债收益率（\texttt{DGS*}，raw） & FRED \\
    \texttt{output/week1/processed/panel.csv} & 按 date 外连接的统一面板（processed） & 以上三者 \\
    \bottomrule
  \end{tabularx}
  \caption{Week 1 输出文件说明}
\end{table}

\subsection{输出示例}
\begin{figure}[H]
  \centering
  \includegraphics[width=0.9\textwidth]{fig/pannel.png}
  \caption{合并后的输出结果}
\end{figure}


\end{document}
